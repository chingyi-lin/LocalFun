<!DOCTYPE html>
<html>
 <head>
    <title>LocalFun</title>
    <meta charset = "UTF-8"/>
    <meta content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;" name="viewport"/>
    <script type="text/javascript" charset="utf-8" src="cordova-2.9.0.js"></script>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />
    <script type="text/javascript" charset="utf-8">
    // Wait for device API libraries to load
    //
    //document.addEventListener("deviceready", onDeviceReady, false);

    // device APIs are available
    //
    /**function onDeviceReady() {
      if(window.localStorage.getItem("Name")){
        alert("Yes Name");
        // there is an object in user
      } else {
        alert("No Name");
        // the "user" key does not have any value
        // Create a user
        ////var User = new function(){
          ////this.Name = "Avatar";
          ////this.Level = "1";
          ////this.Photo = null;
        //}
        
        window.localStorage.setItem("Name", "Avatar");
        window.localStorage.setItem("Level", "1");
        window.localStorage.setItem("Photo", null);
      }
    }
    **/
    //var currentUser = JSON.parse(window.localStorage.getItem("user"));
    window.localStorage.clear();//for testing
    if(window.localStorage.getItem("Name")){
      alert("Yes Name");
      // there is an object in user
    } else {
      alert("No Name");
      // the "user" key does not have any value
      // Create a user
      window.localStorage.setItem("Name", "Avatar");
      window.localStorage.setItem("Level", "1");
      window.localStorage.setItem("Photo", null);
      window.localStorage.setItem("Task", "UBike放暑假");
    }
    //Create a user
    var currentUser = new function(){
      this.Name = window.localStorage.getItem("Name");
      this.Level = window.localStorage.getItem("Level");
      this.Photo = window.localStorage.getItem("Photo");
      this.Task = window.localStorage.getItem("Task");
    }
    </script>
</head>
<body>
  
  <div data-role="page">
    <div data-role="header">
      <h1>LocalFun</h1>
      <a id="HeaderSignUp"  href="/user/register" >Sign Up</a>
      <a id="HeaderLogin" href="/user/login?ReturnUrl=%2Fuser%2Fmyprofile" >Login</a>
    </div><!-- /header -->
  <div data-role = "content">
    <div class="ui-grid-a">
      <div class="ui-block-a" style="height:60px">
      <img src = "images/StoreLogo.png" class = "ui-block-a"/ style="height:60px">
      </div>
      <div class="ui-block-b" id="Avatar">
        
        <p id = "username">名稱：林敬沂</p>
        <script type="text/javascript" charset="utf-8">
        document.getElementById("username").innerHTML = "名稱："+currentUser.Name;
        </script>
        <p id = "level">等級：15等</p>
        <script type="text/javascript" charset="utf-8">
        document.getElementById("username").innerHTML = "等級："+currentUser.Level;
        </script>
        <p id = "currenttask">目前進行任務：Ubike放暑假</p>
        <script type="text/javascript" charset="utf-8">
        document.getElementById("username").innerHTML = "等級："+currentUser.Level;
        </script>
      </div>
    </div>
    <div id = "Recommand Task">
      <ul data-role="listview" data-inset="true" data-theme="c" data-dividertheme="b">
        <li data-role="list-divider">今日推薦</li>
        <li><a href="#">
          <img src="images/oslo.png" />
          <h3>Oslo, AUGUST 31st</h3>
          <p>電影、藝文、台北中山區</p>
          <p>經驗值：15 獎勵：八里船票</p>
        </a></li>
        <li><a href="task_riverbank.html">
          <img src="images/riverbank.png" />
          <h3>河岸留言：香蕉小姐</h3>
          <p>搖滾、藝文、台北大安區</p>
          <p>經驗值：15 獎勵：啤酒一瓶</p>
        </a></li>
      </ul>
    </div>
    <div class="ui-grid-b">
      <a href="#" class="" data-role="button" data-inline="true" >任務記錄</a>
      <a href="#" class="" data-role="button" data-inline="true" >我的足跡</a>
    </div><div class="ui-grid-b">
      <a href="#" class="" data-role="button" data-inline="true" >獎品庫</a>
      <a href="#" class="" data-role="button" data-inline="true" >徽章庫</a></div>
    <div id="History"></div>
    </div><!-- /content -->
 
 <div data-role="footer">
 	<div data-role="navbar">
 	<ul>
 	<li><a href="task.html" data-icon="grid" data-iconpos="top" data-transistion="flip">Tasks</a></li>
 	<li><a href="index.html" data-icon="home" data-iconpos="top" data-transistion="flip">Home</a></li>
  <li><a href="MyLocation.html" data-icon="map" data-iconpos="top" data-transistion="flip">Map</a></li>
 	<li><a href="#" data-icon="gear" data-iconpos="top" data-transistion="flip">Go</a></li>
 </ul>
 </div><!-- /navbar -->
 </div><!-- /footer -->
</div><!-- /page -->
 
</body>
</html>